# Private Poker Configuration
# Copy this file to .env and update with your values
# DO NOT commit .env file to version control

# === Database Configuration ===
POSTGRES_USER=poker
POSTGRES_PASSWORD=change_me_secure_password
POSTGRES_DB=poker_db
POSTGRES_PORT=5432

# Connection string format:
# postgresql://user:password@host:port/database
DATABASE_URL=postgresql://poker:change_me_secure_password@localhost:5432/poker_db

# Database pool settings
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=5
DB_CONNECTION_TIMEOUT_SECS=5
DB_IDLE_TIMEOUT_SECS=300
DB_MAX_LIFETIME_SECS=1800

# === Security Configuration ===
# Generate with: openssl rand -base64 32
JWT_SECRET=change-me-to-a-secure-random-string-minimum-32-bytes

# JWT token expiry (seconds)
JWT_ACCESS_TOKEN_EXPIRY=3600        # 1 hour
JWT_REFRESH_TOKEN_EXPIRY=2592000    # 30 days

# === Server Configuration ===
SERVER_BIND=0.0.0.0:8080
SERVER_PORT=8080

# Timeouts (seconds)
ACTION_TIMEOUT_SECS=30
CONNECT_TIMEOUT_SECS=5
POLL_TIMEOUT_SECS=1
STEP_TIMEOUT_SECS=5

# Connection limits
MAX_CONNECTIONS=1000
MAX_TABLES=100

# === Wallet Configuration ===
DEFAULT_WALLET_BALANCE=1000
FAUCET_AMOUNT=1000
FAUCET_COOLDOWN_HOURS=24
FAUCET_MIN_BALANCE_THRESHOLD=100

# === Logging Configuration ===
# Options: error, warn, info, debug, trace
RUST_LOG=info

# Log format: compact, pretty, json
LOG_FORMAT=compact

# === Rate Limiting Configuration ===
# Login rate limit
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_LOGIN_WINDOW_SECS=300       # 5 minutes
RATE_LIMIT_LOGIN_LOCKOUT_SECS=900      # 15 minutes

# Registration rate limit
RATE_LIMIT_REGISTER_ATTEMPTS=3
RATE_LIMIT_REGISTER_WINDOW_SECS=3600   # 1 hour
RATE_LIMIT_REGISTER_LOCKOUT_SECS=3600  # 1 hour

# Password reset rate limit
RATE_LIMIT_RESET_ATTEMPTS=3
RATE_LIMIT_RESET_WINDOW_SECS=3600      # 1 hour
RATE_LIMIT_RESET_LOCKOUT_SECS=7200     # 2 hours

# Chat rate limit
RATE_LIMIT_CHAT_ATTEMPTS=10
RATE_LIMIT_CHAT_WINDOW_SECS=60         # 1 minute
RATE_LIMIT_CHAT_LOCKOUT_SECS=300       # 5 minutes

# === Bot Configuration ===
BOTS_ENABLED=true
DEFAULT_BOT_DIFFICULTY=standard  # easy, standard, tag

# === Monitoring Configuration ===
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=change_me

# Health check endpoint
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# === Email Configuration (for password reset) ===
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=noreply@example.com
SMTP_PASSWORD=smtp_password
SMTP_FROM=Private Poker <noreply@example.com>

# === Feature Flags ===
FEATURE_2FA_ENABLED=true
FEATURE_CHAT_ENABLED=true
FEATURE_BOTS_ENABLED=true
FEATURE_PRIVATE_TABLES_ENABLED=true
FEATURE_TOURNAMENTS_ENABLED=false

# === Development Settings ===
# Only use in development!
DEV_MODE=false
DEV_SKIP_AUTH=false
DEV_SEED_DATABASE=false
